try {
    Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), selectedImageUri);
    postImage.setImageBitmap(bitmap);
} catch (IOException e) {
    e.printStackTrace();
    // Добавьте обработку ошибок, например, вывод сообщения об ошибке
    Toast.makeText(this, "Ошибка при загрузке изображения", Toast.LENGTH_SHORT).show();
}
@Override
public void onClick(View view) {
    // Проверка разрешений перед открытием галереи
    if (checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {
        // Разрешение уже предоставлено, открываем галерею
        Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
        startActivityForResult(galleryIntent, GALLERY_REQUEST_CODE);
    } else {
        // Запрашиваем разрешение у пользователя
        requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);
    }
}
